# https://doc.traefik.io/traefik/routing/services/#configuration-examples
http:
  routers:
    user-service:
      entryPoints:
        - "web"
      # https://doc.traefik.io/traefik/providers/file/#go-templating
      # https://stackoverflow.com/questions/60273841/use-environment-variables-within-a-traefik-dynamic-configuration
      rule: "Host(`{{ env "API_DEPLOY_HOST" }}`)"
      service: user-service/
      priority: 2

  services:
    user-service:
      loadBalancer:
        servers:
          - url: "http://user-service:80"
