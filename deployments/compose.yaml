services:
  user-service:
    image: totocorpsoftwareinc/user-service:943adb3
    container_name: user-service
    networks:
      - totocorp-network
    restart: on-failure:5
    ports:
      - "80:80"
      - "5432"
    environment:
      ENV_DATABASE_HOST: 172.17.0.1
      ENV_DATABASE_PORT: 5432
      ENV_SERVER_PORT: 80
      # https://docs.docker.com/compose/environment-variables/set-environment-variables/#compose-file
      # Should be provided as an environment variable
      ENV_DATABASE_PASSWORD:
  webserver:
    image: totocorpsoftwareinc/webserver:989a156
    container_name: webserver
    networks:
      - totocorp-network
    restart: on-failure:5
    ports:
      - "3001:3001"

# https://docs.docker.com/compose/compose-file/06-networks/
networks:
  totocorp-network:
